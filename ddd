
      const json = await res.json();
      console.log('üîç Raw response from backend:', json);
      
      if (json.train_devide) {
        const rawMatrix = json.train_devide as (number | string | null)[][];
        console.log('üìä Raw matrix from backend:', rawMatrix);
        
        const cleanedMatrix: (number | null)[][] = rawMatrix.map((row, rowIndex) =>
          row.map((cell, colIndex) => {
            // Je≈õli cell jest ju≈º null/undefined, pozostaw jako null
            if (cell === null || cell === undefined) {
              return null;
            }
            
            const n = typeof cell === 'number' ? cell : Number(cell);
            const result = isNaN(n) ? null : n; // Tylko NaN na null, 0 i inne liczby zostajƒÖ
            
            // Log szczeg√≥lnie dla kolumny 2 (index 1)
            if (colIndex === 1) {
              console.log(`üîç Row ${rowIndex}, Col 2: original=${cell}, converted=${n}, final=${result}`);
            }
            
            return result;
          })
        );
        


        setMatrix(cleanedMatrix);
